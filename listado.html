<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Red de Apoyo Comunitario</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/estilos.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-danger">
  <div class="container">
    <!-- Botón para abrir menú lateral -->
    <button class="btn btn-outline-light me-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#menuServicios">
      ☰
    </button>

    <!-- Logo + Texto -->
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="img/logo.jpg" alt="Logo" class="me-2">
      Red de Apoyo Comunitario
    </a>

    <!-- Menú principal -->
    <div class="collapse navbar-collapse justify-content-end">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" href="ofrecerAyuda.html">Ofrecer Ayuda</a></li>
        <li class="nav-item"><a class="nav-link" href="solicitarAyuda.html">Solicitar Ayuda</a></li>
        <li class="nav-item"><a class="nav-link active" href="listado.html">Lista de solicitudes</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Menú lateral izquierdo (offcanvas) -->
<div class="offcanvas offcanvas-start bg-danger text-white" tabindex="-1" id="menuServicios">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Ayudas</h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="list-unstyled fs-5">
      <li class="mb-2">
        <i class="bi bi-arrow-right"></i>
        <a class="nav-link d-inline text-white" href="Donaciones.html">Donaciones</a>
      </li>
      <li class="mb-2">
        <i class="bi bi-arrow-right"></i>
        <a class="nav-link d-inline text-white" href="Alimentos.html">Alimentos</a>
      </li>
      <li class="mb-2">
        <i class="bi bi-arrow-right"></i>
        <a class="nav-link d-inline text-white" href="Medicamentos.html">Medicamentos</a>
      </li>
      <li class="mb-2">
        <i class="bi bi-arrow-right"></i>
        <a class="nav-link d-inline text-white" href="Mascotas.html">Mascotas</a>
      </li>
      <li class="mb-2">
        <i class="bi bi-arrow-right"></i>
        <a class="nav-link d-inline text-white" href="Ubicaciones.html">Ubicaciones</a>
      </li>
    </ul>
  </div>
</div>

<h1>Listado de Ayudas Comunitarias</h1>

<!-- SECCIÓN DE AYUDAS OFRECIDAS -->
<section>
  <h2>Ayudas Ofrecidas</h2>
  <div id="listadoAyudas"></div>
  <button onclick="borrarAyudas()">Borrar todas las ayudas ofrecidas</button>
</section>

<hr>

<!-- SECCIÓN DE SOLICITUDES -->
<section>
  <h2>Solicitudes de Ayuda</h2>
  <div id="listadoSolicitudes"></div>
  <button onclick="borrarSolicitudes()">Borrar todas las solicitudes</button>
</section>

<script>
  // Mostrar AYUDAS OFRECIDAS
  const listadoAyudas = document.getElementById('listadoAyudas');
  const ayudas = JSON.parse(localStorage.getItem('ayudas')) || [];

  if (ayudas.length === 0) {
    listadoAyudas.innerHTML = '<p>No hay ayudas ofrecidas registradas aún.</p>';
  } else {
    ayudas.forEach((ayuda, index) => {
      const div = document.createElement('div');
      div.innerHTML = `
          <h3>Ayuda #${index + 1}</h3>
          <p><strong>Nombre:</strong> ${ayuda.nombreF}</p>
          <p><strong>Cedula:</strong> ${ayuda.cedulaF}</p>
          <p><strong>Servicio:</strong> ${ayuda.servicioF}</p>
          <p><strong>Ubicación:</strong> ${ayuda.ubicacionF}</p>
          <p><strong>Descripción:</strong> ${ayuda.descripcionF}</p>
          <hr>
        `;
      listadoAyudas.appendChild(div);
    });
  }

  // MOSTRAR SOLICITUDES
  const listadoSolicitudes = document.getElementById('listadoSolicitudes');
  const solicitudes = JSON.parse(localStorage.getItem('solicitudes')) || [];

  if (solicitudes.length === 0) {
    listadoSolicitudes.innerHTML = '<p>No hay solicitudes registradas aún.</p>';
  } else {
    solicitudes.forEach((solicitud, index) => {
      const div = document.createElement('div');
      div.innerHTML = `
        <h3>Solicitud #${index + 1}</h3>
        <p><strong>Nombre:</strong> ${solicitud.nombreS}</p>
        <p><strong>Cédula:</strong> ${solicitud.cedulaS}</p>
        <p><strong>Servicio:</strong> ${solicitud.servicioS}</p>
        <p><strong>Ubicación:</strong> ${solicitud.ubicacionS}</p>
        <p><strong>Descripción:</strong> ${solicitud.descripcionS}</p>
        <hr>
      `;
      listadoSolicitudes.appendChild(div);
    });
  }

  // Funciones para borrar
  function borrarAyudas() {
    if (confirm('¿Estás seguro de que deseas borrar todas las ayudas ofrecidas?')) {
      localStorage.removeItem('ayudas');
      location.reload();
    }
  }

  function borrarSolicitudes() {
    if (confirm('¿Estás seguro de que deseas borrar todas las solicitudes?')) {
      localStorage.removeItem('solicitudes');
      location.reload();
    }
  }
</script>

<footer class="bg-danger text-white mt-5">
  <div class="container py-4">
    <div class="row">

      <div class="col-md-4 mb-3">
        <h5>Quiénes somos</h5>
        <p>Somos una red de apoyo comunitario que busca brindar ayuda a quienes más lo necesitan, a través de la solidaridad y el trabajo colectivo.</p>
      </div>

      <div class="col-md-4 mb-3">
        <h5>Contacto</h5>
        <p>Email: contacto@apoyocomunitario.org</p>
        <p>Tel: +57 302 293 8101</p>
      </div>

      <div class="col-md-4 mb-3">
        <h5>Síguenos</h5>
        <a href="https://www.facebook.com" class="text-white me-3 text-decoration-none">Facebook</a>
        <a href="https://www.instagram.com" class="text-white me-3 text-decoration-none">Instagram</a>
        <a href="https://x.com/?lang=es" class="text-white text-decoration-none">Twitter</a>
      </div>
    </div>
    <hr class="border-light">
    <p class="text-center mb-0">© 2025 Red de Apoyo Comunitario. Talento Tech. Todos los derechos reservados.</p>
  </div>
</footer>

</body>
</html>